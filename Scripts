-- DimCalendar
CREATE TABLE DimCalendar (
    CalendarKey INT PRIMARY KEY,
    FullDate DATE NOT NULL,
    DayOfWeek VARCHAR(10) NOT NULL,
    DayOfMonth INT NOT NULL,
    Month INT NOT NULL,
    Quarter INT NOT NULL,
    Year INT NOT NULL
);

-- DimProduct
CREATE TABLE DimProduct (
    ProductKey INT IDENTITY(1,1) PRIMARY KEY,
    ProductID INT NOT NULL,
    ProductName VARCHAR(100) NOT NULL,
    ProductPrice DECIMAL(10,2) NOT NULL,
    ProductVendorName VARCHAR(100) NOT NULL,
    ProductCategoryName VARCHAR(100) NOT NULL
);

-- DimStore
CREATE TABLE DimStore (
    StoreKey INT IDENTITY(1,1) PRIMARY KEY,
    StoreID INT NOT NULL,
    StoreZip VARCHAR(10),
    StoreRegionName VARCHAR(100) NOT NULL
);

-- DimCustomer
CREATE TABLE DimCustomer (
    CustomerKey INT IDENTITY(1,1) PRIMARY KEY,
    CustomerID INT NOT NULL,
    CustomerName VARCHAR(100) NOT NULL,
    CustomerZip VARCHAR(10)
);

-- FactSales
CREATE TABLE FactSales (
    SalesKey BIGINT IDENTITY(1,1) PRIMARY KEY,
    CalendarKey INT NOT NULL,
    StoreKey INT NOT NULL,
    ProductKey INT NOT NULL,
    CustomerKey INT NOT NULL,
    DollarsSold DECIMAL(12,2) NOT NULL,
    UnitsSold INT NOT NULL,
    FOREIGN KEY (CalendarKey) REFERENCES DimCalendar(CalendarKey),
    FOREIGN KEY (StoreKey) REFERENCES DimStore(StoreKey),
    FOREIGN KEY (ProductKey) REFERENCES DimProduct(ProductKey),
    FOREIGN KEY (CustomerKey) REFERENCES DimCustomer(CustomerKey)
);
